import { motion } from "framer-motion";
import styles from "./Milkshake.module.scss";

const Milkshake = () => {
  const time = [1, 1.2, 0.6, 0.8];

  return (
    <div className={styles.wrapper}>
      <motion.div
        animate={{
          y: [0, -20, 0],
        }}
        transition={{
          repeat: Infinity,
          duration: 2,
        }}
        className={styles.main}
      >
        <div className={styles.front}>
          <img src="./cup/cup-front.svg" alt="front of cup" />
        </div>
        <div className={styles.top}>
          <img src="./cup/cup-top.svg" alt="top of cup" />
        </div>

        <div className={styles.back}>
          <div className={styles.bubbles}>
            {[1, 2, 3, 4, 5].map((bubble) => (
              <motion.div
                // className={styles.bubblesItem}
                key={bubble}
                animate={{
                  y: [0, -400],
                  x: [0, -100, 0, 50, 0],
                }}
                transition={{
                  repeat: Infinity,
                  duration: 3 * time[Math.floor(Math.random() * time.length)],
                }}
                className={`${styles[`bubble${bubble}`]} ${styles.bubble}`}
              />
            ))}
            {[1, 2, 3, 4, 5].map((bubble) => (
              <motion.div
                // className={styles.bubblesItem}
                key={bubble}
                animate={{
                  y: [0, -400],
                  x: [0, -80, 0, -20, 0],
                }}
                transition={{
                  repeat: Infinity,
                  duration: 3 * time[Math.floor(Math.random() * time.length)],
                }}
                className={`${styles[`bubble${bubble}`]} ${styles.bubble}`}
              />
            ))}
          </div>

          <img src="./cup/cup-back.svg" alt="back of cup" />
        </div>
      </motion.div>

      <svg
        className={styles.text}
        fill="none"
        viewBox="0 0 722 265"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          id="ellipse"
          d="m721.5 132.5c0 18.096-9.99 35.398-28.197 51.197-18.205 15.798-44.578 30.048-77.21 42.025-65.26 23.953-155.45 38.778-255.09 38.778s-189.83-14.825-255.09-38.778c-32.632-11.977-59.005-26.227-77.21-42.025-18.207-15.799-28.197-33.101-28.197-51.197s9.9902-35.398 28.197-51.197c18.205-15.798 44.578-30.048 77.21-42.025 65.26-23.953 155.45-38.778 255.09-38.778s189.83 14.825 255.09 38.778c32.632 11.977 59.005 26.227 77.21 42.025 18.207 15.799 28.197 33.101 28.197 51.197z"
        />

        <text width="600">
          <textPath xlinkHref="#ellipse">
            Milkteas and Snacks Milkteas and Snacks Milkteas and Snacks Milkteas
            and Snacks Milkteas and Snacks Milkteas and Snacks Milkteas{" "}
            <animate
              attributeName="startOffset"
              from="0%"
              to="100%"
              begin="0s"
              dur="25s"
              repeatCount="indefinite"
            />
          </textPath>
          <textPath xlinkHref="#ellipse">
            Milkteas and Snacks Milkteas and Snacks Milkteas and Snacks Milkteas
            and Snacks Milkteas and Snacks Milkteas and Snacks Milkteas{" "}
            <animate
              attributeName="startOffset"
              from="-100%"
              to="0%"
              begin="0s"
              dur="25s"
              repeatCount="indefinite"
            />
          </textPath>
        </text>

        <path
          xlinkHref="#ellipse"
          className={styles.diamond1}
          d="M0 33C0.364991 32.6992 0.873371 32.248 1.52514 31.6465C2.17691 31.0449 3.38268 29.6699 5.14246 27.5215C6.90223 25.373 8.52514 23.0742 10.0112 20.625C10.9497 19.0781 11.8426 17.3164 12.6899 15.3398C13.5372 13.3633 14.2412 11.5049 14.8017 9.76465C15.3622 8.02441 15.8575 6.40234 16.2877 4.89844C16.7179 3.39453 17.0242 2.21289 17.2067 1.35352L17.5196 0C17.5717 0.34375 17.6629 0.805664 17.7933 1.38574C17.9237 1.96582 18.2235 3.11523 18.6927 4.83398C19.162 6.55273 19.6639 8.21777 20.1983 9.8291C20.7328 11.4404 21.4367 13.2559 22.3101 15.2754C23.1834 17.2949 24.0894 19.0781 25.0279 20.625C26.4879 23.0742 28.0521 25.3301 29.7207 27.3926C31.3892 29.4551 32.6927 30.8945 33.6313 31.7109L35 33C34.635 33.3008 34.1266 33.7627 33.4749 34.3857C32.8231 35.0088 31.6173 36.3838 29.8575 38.5107C28.0978 40.6377 26.4879 42.9258 25.0279 45.375C24.0894 46.9219 23.1899 48.6836 22.3296 50.6602C21.4693 52.6367 20.7588 54.4951 20.1983 56.2354C19.6378 57.9756 19.1425 59.5977 18.7123 61.1016C18.2821 62.6055 17.9758 63.7871 17.7933 64.6465L17.5196 66C17.4413 65.6562 17.3371 65.1943 17.2067 64.6143C17.0763 64.0342 16.7765 62.8848 16.3073 61.166C15.838 59.4473 15.3361 57.7822 14.8017 56.1709C14.2672 54.5596 13.5698 52.7441 12.7095 50.7246C11.8492 48.7051 10.9497 46.9219 10.0112 45.375C8.52514 42.9258 6.94134 40.6699 5.25978 38.6074C3.57821 36.5449 2.29423 35.0947 1.40782 34.2568C0.521415 33.4189 0.0521415 33 0 33Z"
          fill="#000"
        />

        <path
          xlinkHref="#ellipse"
          className={styles.diamond2}
          d="M0 33C0.364991 32.6992 0.873371 32.248 1.52514 31.6465C2.17691 31.0449 3.38268 29.6699 5.14246 27.5215C6.90223 25.373 8.52514 23.0742 10.0112 20.625C10.9497 19.0781 11.8426 17.3164 12.6899 15.3398C13.5372 13.3633 14.2412 11.5049 14.8017 9.76465C15.3622 8.02441 15.8575 6.40234 16.2877 4.89844C16.7179 3.39453 17.0242 2.21289 17.2067 1.35352L17.5196 0C17.5717 0.34375 17.6629 0.805664 17.7933 1.38574C17.9237 1.96582 18.2235 3.11523 18.6927 4.83398C19.162 6.55273 19.6639 8.21777 20.1983 9.8291C20.7328 11.4404 21.4367 13.2559 22.3101 15.2754C23.1834 17.2949 24.0894 19.0781 25.0279 20.625C26.4879 23.0742 28.0521 25.3301 29.7207 27.3926C31.3892 29.4551 32.6927 30.8945 33.6313 31.7109L35 33C34.635 33.3008 34.1266 33.7627 33.4749 34.3857C32.8231 35.0088 31.6173 36.3838 29.8575 38.5107C28.0978 40.6377 26.4879 42.9258 25.0279 45.375C24.0894 46.9219 23.1899 48.6836 22.3296 50.6602C21.4693 52.6367 20.7588 54.4951 20.1983 56.2354C19.6378 57.9756 19.1425 59.5977 18.7123 61.1016C18.2821 62.6055 17.9758 63.7871 17.7933 64.6465L17.5196 66C17.4413 65.6562 17.3371 65.1943 17.2067 64.6143C17.0763 64.0342 16.7765 62.8848 16.3073 61.166C15.838 59.4473 15.3361 57.7822 14.8017 56.1709C14.2672 54.5596 13.5698 52.7441 12.7095 50.7246C11.8492 48.7051 10.9497 46.9219 10.0112 45.375C8.52514 42.9258 6.94134 40.6699 5.25978 38.6074C3.57821 36.5449 2.29423 35.0947 1.40782 34.2568C0.521415 33.4189 0.0521415 33 0 33Z"
          fill="#000"
        />
      </svg>
    </div>
  );
};

export default Milkshake;
